
FROM node:10.5.0

WORKDIR /data/freelog-node-provider

COPY . /data/freelog-node-provider

ENV NODE_ENV prod \
    EGG_SERVER_ENV prod \
    PORT 7005 \
    TZ=Asia/Shanghai \

RUN npm install /data/freelog-node-provider && ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

EXPOSE 7005

CMD [ "npm", "start" ]
